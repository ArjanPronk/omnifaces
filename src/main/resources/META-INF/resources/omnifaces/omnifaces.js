var OmniFaces=OmniFaces||{};
OmniFaces.Util={addOnloadListener:function(n){if("complete"===document.readyState)setTimeout(n);else if(window.addEventListener)window.addEventListener("load",n,!1);else if(window.attachEvent)window.attachEvent("onload",n);else if("function"==typeof window.onload){var o=window.onload;window.onload=function(){o(),n()}}else window.onload=n},resolveFunction:function(n){return"function"!=typeof n&&(n=window[n]||function(){}),n}};
OmniFaces.Highlight=function(e){function n(){for(var n=e.getElementsByTagName("LABEL"),t={},a=0;a<n.length;a++){var r=n[a],l=r.htmlFor;l&&(t[l]=r)}return t}function t(n){var t=e.getElementById(n);if(!t){var a=e.getElementsByName(n);a&&a.length&&(t=a[0])}return t}var a={};return a.apply=function(e,a,r){for(var l=n(),i=0;i<e.length;i++){var m=t(e[i]);if(m){m.className+=" "+a;var c=l[m.id];c&&(c.className+=" "+a),r&&(m.focus(),r=!1)}}},a}(document);
OmniFaces.DeferredScript=function(e,n){function r(e){if(!(0>e||e>=t.length)){var o=t[e],c=n.createElement("script"),a=n.head||n.documentElement;c.async=!0,c.src=o.url,c.onerror=function(){o.error()},c.onload=c.onreadystatechange=function(n,t){(t||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,t?c.onerror():o.success(),c=null,r(e+1))},o.begin(),a.insertBefore(c,null)}}var t=[],o={};return o.add=function(n,o,c,a){t.push({url:n,begin:e.resolveFunction(o),success:e.resolveFunction(c),error:e.resolveFunction(a)}),1==t.length&&e.addOnloadListener(function(){r(0)})},o}(OmniFaces.Util,document);
OmniFaces.Unload=function(n,t){function e(){for(var n=0;n<t.forms.length;n++){var e=t.forms[n][i];if(e)return e.value}return null}function a(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)}var i="javax.faces.ViewState",o=!1,r={};return r.init=function(u){if(n.XMLHttpRequest){var c=e();c&&(a(n,"beforeunload",function(){if(o)return void(o=!1);try{var t=new XMLHttpRequest;t.open("POST",n.location.href.split(/[?#;]/)[0],!1),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("omnifaces.event=unload&id="+u+"&"+i+"="+c)}catch(e){}}),a(t,"submit",function(){r.disable()}))}},r.disable=function(){o=!0},r}(window,document);
OmniFaces.Push=function(n,o){function e(n,o,e,t){var c,i,a=this;a.open=function(){c&&1==c.readyState||(c=new WebSocket(n),c.onopen=function(n){i=1},c.onmessage=function(n){e(JSON.parse(n.data),o,n)},c.onclose=function(n){c?i&&(setTimeout(a.open,Math.min(s*i,r)),i++):t(n.code,o,n)})},a.close=function(){if(c){var n=c;c=null,n.close()}}}function t(n){n=n||"";var e=n&&0!=n.indexOf("/")?0==n.indexOf(":")?o.location.hostname+n:n:o.location.host+n;return i+e+a+"/"}var c=!!o.WebSocket,i=o.location.protocol.replace("http","ws")+"//",a="/omnifaces.push",s=500,r=1e4,u={},f={};return f.init=function(o,i,a,s,r){if(s=n.resolveFunction(s),!c)return void s(-1,i);f.close(i);var l=t(o)+encodeURIComponent(i);u[i]=new e(l,i,n.resolveFunction(a),s),r&&f.open(i)},f.open=function(n){var o=u[n];o&&o.open()},f.close=function(n){var o=u[n];o&&o.close()},f}(OmniFaces.Util,window);