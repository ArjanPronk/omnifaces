var OmniFaces=OmniFaces||{};
OmniFaces.Util={addOnloadListener:function(n){if("complete"===document.readyState)setTimeout(n);else if(window.addEventListener)window.addEventListener("load",n,!1);else if(window.attachEvent)window.attachEvent("onload",n);else if("function"==typeof window.onload){var e=window.onload;window.onload=function(){e(),n()}}else window.onload=n}};
OmniFaces.Highlight={addErrorClass:function(e,a,t){for(var m=document.getElementsByTagName("LABEL"),n={},r=0;r<m.length;r++){var l=m[r],s=l.htmlFor;s&&(n[s]=l)}for(var r=0;r<e.length;r++){var g=e[r],o=document.getElementById(g);if(!o){var c=document.getElementsByName(g);c&&c.length&&(o=c[0])}if(o){o.className+=" "+a;var l=n[o.id];l&&(l.className+=" "+a),t&&(o.focus(),t=!1)}}}};
OmniFaces.DeferredScript=function(){function e(r){if(!(0>r||r>=n.length)){var t=n[r],o=document.createElement("script"),c=document.head||document.documentElement;o.async=!0,o.src=t.url,o.onerror=function(){t.error&&t.error()},o.onload=o.onreadystatechange=function(n,c){(c||!o.readyState||/loaded|complete/.test(o.readyState))&&(o.onload=o.onreadystatechange=null,c?o.onerror():t.success&&t.success(),o=null,e(r+1))},t.begin&&t.begin(),c.insertBefore(o,null)}}var n=[],r={};return r.add=function(r,t,o,c){n.push({url:r,begin:t,success:o,error:c}),1==n.length&&OmniFaces.Util.addOnloadListener(function(){e(0)})},r}();
OmniFaces.Unload=function(){function n(){for(var n=0;n<document.forms.length;n++){var t=document.forms[n][e];if(t)return t.value}return null}function t(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)}var e="javax.faces.ViewState",o=!1,i={};return i.init=function(a){if(window.XMLHttpRequest){var r=n();r&&(t(window,"beforeunload",function(){if(o)return void(o=!1);try{var n=new XMLHttpRequest;n.open("POST",window.location.href.split(/[?#;]/)[0],!1),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("omnifaces.event=unload&id="+a+"&"+e+"="+r)}catch(t){}}),t(document,"submit",function(){i.disable()}))}},i.disable=function(){o=!0},i}();
OmniFaces.Push=function(){function n(n,o,e,t){var i,c=this;this.open=function(s){i=new WebSocket(n),i.onopen=function(n){s=0},i.onmessage=function(n){e(JSON.parse(n.data),o,n)},i.onclose=function(n){i?1011!=n.code&&(s++,setTimeout(function(){c.open(s)},Math.min(u*s,f))):t(n.code,o,n)}},this.close=function(){if(i){var n=i;i=null,n.close()}},c.open(0)}function o(n){return"function"!=typeof n&&(n=window[n]||function(){}),n}function e(n){n=n||"";var o=n&&0!=n.indexOf("/")?0==n.indexOf(":")?window.location.hostname+n:n:window.location.host+n;return i+o+c+"/"}var t=!!window.WebSocket,i=window.location.protocol.replace("http","ws")+"//",c="/omnifaces.push",u=1e3,f=1e4,s={},a={};return a.open=function(i,c,u,f){if(f=o(f),!t)return void f(-1,c);a.close(c);var r=e(i)+encodeURIComponent(c);s[c]=new n(r,c,o(u),f)},a.close=function(n){var o=s[n];o&&(delete s[n],o.close())},a}();