var OmniFaces=OmniFaces||{};
OmniFaces.Unload=function(){function n(){for(var n=0;n<document.forms.length;n++){var t=document.forms[n][e];if(t)return t.value}return null}function t(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)}var e="javax.faces.ViewState",o=!1,i={};return i.init=function(a){if(window.XMLHttpRequest){var r=n();r&&(t(window,"beforeunload",function(){if(o)return void(o=!1);try{var n=new XMLHttpRequest;n.open("POST",window.location.href.split(/[?#;]/)[0],!1),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("omnifaces.event=unload&id="+a+"&"+e+"="+r)}catch(t){}}),t(document,"submit",function(){i.disable()}))}},i.disable=function(){o=!0},i}();